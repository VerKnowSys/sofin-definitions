DEF_FULL_NAME="PDF backend - Poppler"
DEF_NAME="poppler"
DEF_VERSION="24.02.0"
DEF_SHA="c1d39286dc67245274c9ab698cb910ed2aff18d8"
DEF_SOURCE_PATH="${MAIN_SOURCE_REPOSITORY}${DEF_NAME}-${DEF_VERSION}.tar.xz"
DEF_ORIGIN="https://poppler.freedesktop.org/${DEF_NAME}-${DEF_VERSION}.tar.xz"
DEF_REQUIREMENTS="tiff jpeg libjpeg-turbo openjpeg @fontconfig boost lcms2 poppler-data"
DEF_CONFIGURE_METHOD="cmake"
DEF_CONFIGURE_ARGS="-DENABLE_GLIB=ON -DENABLE_SPLASH=ON -DSPLASH_CMYK=ON -DWITH_Cairo=ON -DENABLE_LIBCURL=OFF -DBUILD_GTK_TESTS=OFF  -DBUILD_CPP_TESTS=OFF -DBUILD_QT5_TESTS=OFF -DENABLE_QT5=OFF -DENABLE_QT6=OFF -DBUILD_QT6_TESTS=OFF -DENABLE_NSS3=OFF -DENABLE_GPGME=OFF"
case "${SYSTEM_NAME}" in
    Darwin)
        DEF_CONFIGURE_ARGS="${DEF_CONFIGURE_ARGS} -DENABLE_LIBOPENJPEG=none"
        ;;
esac
DEF_COMPILER_FLAGS="-Wno-register"
DEF_EXPORTS="pdffonts pdfinfo pdftohtml pdftops pdfunite pdfimages pdfseparate pdftoppm pdftotext"
DEF_NO_PIE=YES
DEF_USE_CXX14=YES
unset DEF_USE_LTO
