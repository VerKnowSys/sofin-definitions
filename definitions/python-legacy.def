. ${DEFINITIONS_DIR}python.def

APP_FULL_NAME="Python 2"
APP_SHA="511960dd78451a06c9df76509635aeec05b2051a"
APP_POSTFIX="-legacy"
APP_VERSION="2.7.8"
APP_HTTP_PATH="${MAIN_SOURCE_REPOSITORY}${APP_NAME}-${APP_VERSION}.tar.bz2"
APP_PIP_INSTALLER_PATH="https://raw.github.com/pypa/pip/master/contrib/get-pip.py"
APP_ST_EGG_NAME="setuptools-0.6c11-py2.7.egg"
APP_AFTER_INSTALL_CALLBACK="install_ei_and_pip"
APP_EXPORTS="python python-config easy_install pip"


install_ei_and_pip () {
    ${TEST_BIN} ! -d ${HOME}/tmp && ${MKDIR_BIN} -p ${HOME}/tmp
    cd ${HOME}/tmp
    ${FETCH_BIN} ${MAIN_SOURCE_REPOSITORY}${APP_ST_EGG_NAME}
    PYTHONPATH=${PREFIX}/lib/python2.7/site-packages /bin/sh ./${APP_ST_EGG_NAME} --prefix=${PREFIX}
    ${FETCH_BIN} ${APP_PIP_INSTALLER_PATH}
    ${PREFIX}/bin/python ./get-pip.py
    ${RM_BIN} -f ./get-pip.py ./${APP_ST_EGG_NAME}
}
