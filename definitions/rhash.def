DEF_FULL_NAME="RHash"
DEF_SHA="411d8c7ba84fa9763bc49fa2fd3a7587712fd52c"
DEF_VERSION="1.3.4"
DEF_SOURCE_PATH="${MAIN_SOURCE_REPOSITORY}${DEF_NAME}-${DEF_VERSION}-src.tar.gz"
DEF_CONFIGURE_METHOD="no-conf"
DEF_MAKE_METHOD=":"
DEF_INSTALL_METHOD="make_and_install"
make_and_install () {
    ${MKDIR_BIN} -p "${PREFIX}/etc" "${PREFIX}/lib"
    ${SED_BIN} -i '' -e "s#?= /usr/local#= ${PREFIX}#g; s#/etc # #g; s#/etc/rhashrc#${PREFIX}/etc/rhashrc#g" Makefile librhash/Makefile
    ${SED_BIN} -i '' -e "s#?= gcc#= cc#g" Makefile librhash/Makefile
    if [ "Darwin" = "${SYSTEM_NAME}" ]; then
        ${SED_BIN} -i '' -e "s#librhash.so#librhash.dylib#g" Makefile librhash/Makefile librhash/Makefile
    fi
    ${SED_BIN} -i '' -e 's#--version-script,##g; s#,-soname##g; s#,librhash\.##g' Makefile librhash/Makefile
    ${SED_BIN} -i '' -e 's#-Wl,exports.sym,$(SONAME)#-dynamic#g' Makefile librhash/Makefile
    env PREFIX="${PREFIX}" PATH="${PATH}" CC= LD= make all lib-shared install && \
        ${INSTALL_BIN} -v librhash/librhash.dylib ${PREFIX}/lib && \
        return 0

    return 1
}
DEF_EXPORTS="rhash"
