inherit pcre

DEF_FULL_NAME="PCRE Library with JIT enabled"
DEF_SUFFIX="-jit"
DEF_NO_MPROTECT=YES
DEF_NO_PAGEEXEC=YES
DEF_NO_ASLR=YES
DEF_NO_DISALLOW_MAP32BIT=YES
DEF_NO_SHLIBRANDOM=YES
DEF_APPLY_LOWER_SECURITY_ON="pcregrep"

case "${SYSTEM_NAME}" in
    Darwin)
        DEF_CONFIGURE_ARGS="-DPCRE_SUPPORT_UTF=ON -DPCRE_SUPPORT_LIBZ=ON -DPCRE_SUPPORT_LIBBZ2=ON -DPCRE_REBUILD_CHARTABLES=ON -DPCRE_SUPPORT_UNICODE_PROPERTIES=ON -DPCRE_SUPPORT_JIT=ON -DPCRE_BUILD_TESTS=OFF -DPCRE2_BUILD_TESTS=OFF"
        ;;

    *)
        DEF_CONFIGURE_ARGS="-DBUILD_SHARED_LIBS=ON -DPCRE_SUPPORT_UTF=ON -DPCRE_SUPPORT_LIBZ=ON -DPCRE_SUPPORT_LIBEDIT=ON -DPCRE_SUPPORT_LIBBZ2=ON -DPCRE_REBUILD_CHARTABLES=ON -DPCRE_SUPPORT_UNICODE_PROPERTIES=ON -DPCRE_SUPPORT_JIT=ON -DPCRE_BUILD_TESTS=OFF -DPCRE2_BUILD_TESTS=OFF -DBUILD_STATIC_LIBS=OFF"
        ;;
esac
