DEF_CRITICAL=YES
DEF_FULL_NAME="Git SCM"
DEF_SHA="c06d95faebc83962f94efba11448f9a2ae841b9f"
DEF_NAME="git"
DEF_VERSION="2.12.3"
DEF_STANDALONE=YES
DEF_SOURCE_PATH="${MAIN_SOURCE_REPOSITORY}${DEF_NAME}-${DEF_VERSION}.tar.xz"
DEF_REQUIREMENTS="pkgconf make libunistring gettext pcre icu expat gmp perl libressl libffi python27 nghttp2 libssh2 curl-minimal"
case "${SYSTEM_NAME}" in
    FreeBSD)
        DEF_CONFIGURE_ARGS="--with-iconv=/usr --with-zlib=/usr --enable-pthreads=-pthread ac_cv_header_libcharset_h=no"
        ;;

    Darwin)
        DEF_CONFIGURE_ARGS="--with-iconv=/usr --with-zlib=/usr --enable-pthreads=-pthread ac_cv_header_libcharset_h=no"
        ;;

    Minix)
        DEF_CONFIGURE_ARGS="--with-openssl=/usr/lib --with-iconv=/usr/lib --with-shell=/bin/sh --enable-pthreads=-pthread ac_cv_search_clock_gettime=no git_cv_ld_dashr=no gitexecdir=${PREFIX}/bin TAR=${TAR_BIN} INSTALL=${INSTALL_BIN}"
        DEF_COMPILER_FLAGS="-D_NETBSD_SOURCE"
        ;;

    *)
        warn "No match for: ${SYSTEM_NAME} in definition: ${0}!"
        ;;

esac
DEF_CONFIGURE_ARGS="--with-perl=${PREFIX}/bin/perl --with-expat=${PREFIX} --with-curl=${PREFIX} --with-openssl=${PREFIX} --with-libpcre=${PREFIX} --without-tcltk --without-python ${DEF_CONFIGURE_ARGS}"
DEF_EXPORTS="git git-receive-pack git-shell git-upload-archive git-upload-pack"
DEF_USEFUL="bin/perl*"
DEF_USELESS="lib/*.a lib/*python* share/examples share/texinfo share/gtk-doc share/aclocal* share/auto* share/gettext* lib/libffi-* lib/pkgconfig include"
DEF_USE_SAFE_STACK=YES
unset DEF_USE_LTO
