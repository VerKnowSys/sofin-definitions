APP_FULL_NAME="Ruby YARV 2.1"
APP_SHA="c7e50159357afd87b13dc5eaf4ac486a70011149"
APP_NAME="ruby"
APP_POSTFIX="21"
APP_VERSION="2.1.8"
APP_HTTP_PATH="${MAIN_SOURCE_REPOSITORY}${APP_NAME}-${APP_VERSION}.tar.gz"
APP_CONFIGURE_ARGS="--enable-shared --with-opt-dir=${PREFIX} --with-gcc=/usr/bin/clang --disable-install-doc --disable-install-rdoc --enable-load-relative --with-openssl=${PREFIX} --with-gmp=${PREFIX}"
case "${SYSTEM_NAME}" in
    Linux)
        export APP_CONFIGURE_ARGS="${APP_CONFIGURE_ARGS} --with-gcc=/usr/bin/gcc"
        ;;

    FreeBSD|Darwin)
        export APP_CONFIGURE_ARGS="${APP_CONFIGURE_ARGS} --enable-dtrace"
        ;;
esac
APP_REQUIREMENTS="pkgconf zlib bzip2 libiconv python27 gmake libxml2 m4 libtool libgpg-error libgcrypt libxslt yaml libffi sqlite perl openssl readline gmp51"
APP_AFTER_INSTALL_CALLBACK="${PRINTF_BIN} 'gem: --no-ri --no-rdoc' > ${HOME}/.gemrc ; ${PREFIX}/bin/gem install bundler rack"
APP_EXPORTS="ruby gem irb ri rdoc erb rake bundle rackup"
APP_ORIGIN="http://www.ruby-lang.org/en/downloads/"
APP_MAKE_METHOD="gmake -s ${MAKE_OPTS}"
APP_INSTALL_METHOD="gmake install -s ${MAKE_OPTS}"
APP_CONFLICTS_WITH="Rubinius Jruby Passenger Ruby"
APP_USELESS="lib/libperl.so lib/perl5 include/python2.7 lib/python2.7 man share"
