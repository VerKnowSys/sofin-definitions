DEF_FULL_NAME="Snappy - A fast compressor/decompressor"
DEF_NAME="snappy"
DEF_VERSION="1.1.9"
DEF_SHA="83f767c2bc1b0d9114273b883771491ae2bf6f4f"
DEF_SOURCE_PATH="${MAIN_SOURCE_REPOSITORY}${DEF_NAME}-${DEF_VERSION}.tar.gz"
DEF_CONFIGURE_METHOD="cmake"
DEF_CONFIGURE_ARGS="-DBUILD_SHARED_LIBS=ON -DSNAPPY_BUILD_TESTS=OFF -DSNAPPY_BUILD_BENCHMARKS=OFF"

case "${SYSTEM_NAME}-${SYSTEM_VERSION}-${SYSTEM_ARCH}" in
    FreeBSD-11*)
        unset DEF_USE_LTO
        ;;

    *-amd64)
        DEF_CONFIGURE_ARGS="${DEF_CONFIGURE_ARGS} -DSNAPPY_REQUIRE_AVX=ON -DSNAPPY_REQUIRE_AVX2=ON"
        ;;
esac
