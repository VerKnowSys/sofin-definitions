inherit "git"

DEF_FULL_NAME="Git SCM (recent version)"
DEF_SUFFIX="-devel"
DEF_VERSION="2.24.0"
DEF_SHA="851537fc03f5a99419ef20e9b836de965c7928bd"
DEF_SOURCE_PATH="${MAIN_SOURCE_REPOSITORY}${DEF_NAME}-${DEF_VERSION}.tar.xz"
DEF_ORIGIN="https://mirrors.edge.kernel.org/pub/software/scm/${DEF_NAME}/${DEF_NAME}-${DEF_VERSION}.tar.xz"
DEF_REQUIREMENTS="pkgconf make libunistring pcre icu expat gmp perl libressl libffi python27 nghttp2 libssh2 curl-dynamic"
DEF_CONFIGURE_ARGS="${DEF_CONFIGURE_ARGS} --with-python=${PREFIX}/bin/python"
DEF_USEFUL="bin/perl* bin/python*"
DEF_USELESS="lib/*.{a,la} share/examples share/texinfo share/gtk-doc share/aclocal* share/auto* lib/pkgconfig include"
DEF_CONFLICTS_WITH="Git"

unset DEF_CRITICAL

case "${SYSTEM_NAME}-${SYSTEM_VERSION}" in
    FreeBSD-11*)
        unset DEF_USE_LTO
        ;;

    FreeBSD-12*)
        DEF_USE_LTO=YES
        ;;
esac
