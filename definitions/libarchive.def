DEF_FULL_NAME="Archive Library"
DEF_NAME="libarchive"
DEF_VERSION="3.6.1"
DEF_SHA="40e317009a583c42dc6445de327a9b8a0f3beb01"
DEF_SOURCE_PATH="${MAIN_SOURCE_REPOSITORY}${DEF_NAME}-${DEF_VERSION}.tar.xz"
DEF_ORIGIN="https://github.com/${DEF_NAME}/${DEF_NAME}/releases/download/v${DEF_VERSION}/${DEF_NAME}-${DEF_VERSION}.tar.xz"
DEF_EXPORTS="bsdcat bsdcpio bsdtar"
DEF_REQUIREMENTS="libressl-lib libxml2 lzo @zstd"
DEF_CONFIGURE_METHOD="cmake"
DEF_CONFIGURE_ARGS="-DENABLE_OPENSSL=ON -DENABLE_ZLIB=ON -DENABLE_ZSTD=ON -DENABLE_TAR=ON -DENABLE_TAR_SHARED=ON -DENABLE_LZO=ON -DENABLE_LZMA=ON -DENABLE_LZ4=ON -DENABLE_LIBXML2=ON -DENABLE_ICONV=ON -DENABLE_CPIO=ON -DENABLE_CPIO_SHARED=ON -DENABLE_CAT=ON -DENABLE_CAT_SHARED=ON -DENABLE_BZip2=ON -DENABLE_ACL=ON -DENABLE_CNG=ON -DENABLE_TEST=OFF -DBUILD_TESTING=OFF -DENABLE_COVERAGE=OFF"

case "${SYSTEM_NAME}-${SYSTEM_VERSION}" in
    FreeBSD-11*)
        unset DEF_USE_LTO
        ;;
esac
