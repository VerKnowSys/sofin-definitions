APP_FULL_NAME="Rsync"
APP_NAME="rsync"
APP_SHA="c84faba04f721d393feccfa0476bfeed9b5b5250"
APP_VERSION="3.1.1"
APP_HTTP_PATH="${MAIN_SOURCE_REPOSITORY}${APP_NAME}-${APP_VERSION}.tar.gz"
APP_REQUIREMENTS="perl"
APP_CONFIGURE_ARGS="--disable-ipv6 --disable-debug --enable-acl-support --enable-xattr-support --enable-iconv --enable-locale"
APP_EXPORTS="rsync"
APP_USELESS="lib/*perl* man share/man"
APP_AFTER_UNPACK_CALLBACK="patch_max_path_length"
APP_CONFLICTS_WITH="Rsync"
patch_max_path_length () {
    note "Increasing default MAXPATHLEN from 1024 to 8194"
    ${SED_BIN} -i '' -e 's/#define MAXPATHLEN 1024/#define MAXPATHLEN 8194/' rsync.h
}
