DEF_FULL_NAME="Rsync"
DEF_NAME="rsync"
DEF_SHA="c84faba04f721d393feccfa0476bfeed9b5b5250"
DEF_VERSION="3.1.1"
DEF_SOURCE_PATH="${MAIN_SOURCE_REPOSITORY}${DEF_NAME}-${DEF_VERSION}.tar.gz"
DEF_REQUIREMENTS="perl"
DEF_CONFIGURE_ARGS="--disable-ipv6 --disable-debug --enable-acl-support --enable-xattr-support --enable-iconv --enable-locale"
DEF_EXPORTS="rsync"
DEF_USELESS="lib/*perl* man share/man"
DEF_AFTER_UNPACK_METHOD="patch_max_path_length"
DEF_CONFLICTS_WITH="Rsync"
patch_max_path_length () {
    note "Increasing default MAXPATHLEN from 1024 to 8194"
    ${SED_BIN} -i '' -e 's/#define MAXPATHLEN 1024/#define MAXPATHLEN 8194/' rsync.h
    true
}
