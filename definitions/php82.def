inherit php74

DEF_FULL_NAME="PHP 8.2"
DEF_SUFFIX="82"
DEF_VERSION="8.2.7"
DEF_SHA="7981566999b886d06d75833416827f48294b0f65"
DEF_SOURCE_PATH="${MAIN_SOURCE_REPOSITORY}${DEF_NAME}-${DEF_VERSION}.tar.xz"
DEF_ORIGIN="https://www.php.net/distributions/${DEF_NAME}-${DEF_VERSION}.tar.xz"
DEF_BUNDLED_EXTENSIONS="zip decimal apcu xdebug redis igbinary" # NOTE: meminfo doesn't build for 8 yet

install_xdebug () {
    arch_name="xdebug-3.2.1"
    archive="${arch_name}.tgz"
    try "${FETCH_BIN} ${FETCH_OPTS} -O ${MAIN_SOURCE_REPOSITORY}${archive}" && \
    try "${TAR_BIN} xf ${archive}" && \
    cd "${arch_name}" && \
    try "${PREFIX}/bin/phpize" && \
    try "./configure --prefix=${PREFIX} --enable-xdebug --with-php-config=${PREFIX}/bin/php-config" && \
    try "PATH=${PREFIX}/bin:$PATH make install" && \
    note "Installed Xdebug pecl module: ${arch_name}" && \
    return 0
    return 1
}
