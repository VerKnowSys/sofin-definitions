DEF_REQUIRE_ROOT_ACCESS="true"
DEF_FULL_NAME="Courier Mail Server Auth Lib"
DATA_DIR="/SystemUsers/SoftwareData/Courier/"
DEF_SHA="c4e5fcf746da4104156c59c6d56fbfbf82f544ba"
DEF_NAME="courier-authlib"
DEF_VERSION="0.66.3"
DEF_LINKER_ARGS="-lpthread"
DEF_HTTP_PATH="${MAIN_SOURCE_REPOSITORY}${DEF_NAME}-${DEF_VERSION}.tar.bz2"
DEF_CONFIGURE_ARGS="--without-authpam --without-authldap --without-authpwd --without-authshadow --without-stdheaderdir --sysconfdir=${DATA_DIR}etc --localstatedir=${DATA_DIR}var"

if [ "${SYSTEM_NAME}" = "Linux" ]; then
    patch_makefile () {
        ${SED_BIN} -i 's#@REPOSITORY@#dev#g' Makefile
        ${SED_BIN} -i 's#http://github.com/VerKnowSys/sofin-definitions.git#dev#g' Makefile
    }
    DEF_AFTER_CONFIGURE_METHOD="patch_makefile"
fi
