inherit php56

DEF_DISABLE_ON="FreeBSD"
DEF_FULL_NAME="PHP 5.4"
DEF_SHA="3032efebf7001e7720c5e42d9898d7077612e9b4"
DEF_VERSION="5.4.45"
DEF_POSTFIX="54"
DEF_HTTP_PATH="${MAIN_SOURCE_REPOSITORY}${DEF_NAME}-${DEF_VERSION}.tar.bz2"
# DEF_REQUIREMENTS="$(echo "${DEF_REQUIREMENTS}" | ${SED_BIN} -e 's/libressl/openssl/')"
DEF_BUNDLED_EXTENSIONS="${DEF_BUNDLED_EXTENSIONS} apc opcache"

install_rar () {
    arch_name="rar-3.0.2"
    archive="${arch_name}.tgz"
    ${FETCH_BIN} "${MAIN_SOURCE_REPOSITORY}${archive}" && \
    ${TAR_BIN} xf "${archive}" && \
    cd "${arch_name}" && \
    ${PREFIX}/bin/phpize && \
    ./configure --prefix=${PREFIX} --enable-rar --with-php-config=${PREFIX}/bin/php-config CFLAGS="-I${PREFIX}/include" && \
    CFLAGS="-I${PREFIX}/include" PATH=${PREFIX}/bin:$PATH make install && \
    note "Installed Rar pecl module: ${arch_name}" && \
    return 0
    return 1
}
