APP_FULL_NAME="MongoDB - NoSQL database"
APP_STANDALONE="true"
APP_NAME="mongodb"
APP_SHA="f68219cc1226f164676f9c74909e82383e9215b8"
APP_VERSION="3.0.0"
APP_POSTFIX="30"
APP_HTTP_PATH="${MAIN_SOURCE_REPOSITORY}${APP_NAME}-src-r${APP_VERSION}.tar.gz"
APP_REQUIREMENTS="libiconv bzip2 python27 scons libexecinfo gmake nspr"
APP_CONFIGURE_SCRIPT="ignore"
APP_MAKE_METHOD="true"
case "${SYSTEM_NAME}" in
    Darwin)
        export APP_INSTALL_METHOD="scons ${MAKE_OPTS} --cc='/usr/bin/clang -w' --cxx='/usr/bin/clang++ -w' --extrapath=${PREFIX} --64 --release --prefix=${PREFIX} install"
        ;;

    Linux)
        export APP_INSTALL_METHOD="scons ${MAKE_OPTS} --cc='/usr/bin/gcc -w' --cxx='/usr/bin/g++ -w' --extrapath=${PREFIX} --64 --release --prefix=${PREFIX} install"
        ;;

    *)
        # cannot be built with clang: https://groups.google.com/group/mongodb-user/browse_thread/thread/988eebe374e43624?hl=en&noredirect=true&pli=1
        export APP_INSTALL_METHOD="scons ${MAKE_OPTS} --cc='/Software/Gcc/exports/gcc -w' --cxx='/Software/Gcc/exports/g++ -w' --extrapath=${PREFIX} --64 --release --prefix=${PREFIX} install"
        ;;
esac
APP_EXPORTS="mongo mongod mongos mongostat mongodump mongoexport mongoperf mongofiles mongotop mongooplog"
APP_USELESS="share include/python2.7 lib/python2.7 lib/scons"
