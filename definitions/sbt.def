APP_FULL_NAME="Simple Build Tool"
APP_NAME="sbt"
APP_SHA="879ee72d049f1718a29551f55590aa94972f4c96"
APP_VERSION="0.13.9"
APP_HTTP_PATH="${MAIN_SOURCE_REPOSITORY}${APP_NAME}-${APP_VERSION}.tgz"
APP_CONFIGURE_SCRIPT="binary"
APP_AFTER_UNPACK_CALLBACK="${CP_BIN} -fR ${CACHE_DIR}cache/${APP_NAME}-${APP_VERSION}-${RUNTIME_SHA}/${APP_NAME}/ ${PREFIX}"
APP_AFTER_CONFIGURE_CALLBACK="after_jobs"
APP_REQUIREMENTS="openjdk8"
APP_AFTER_INSTALL_CALLBACK="createLaunchScript"
APP_EXPORTS="sbt jdb jhat jinfo jmap jar jps jarsigner jrunscript policytool java jstack registervm classpath javac jstat rmic javadoc jstatd rmid javah keytool rmiregistry javap javavm jcmd"
APP_CONFLICTS_WITH="Openjdk"
APP_USELESS="demo sample src.zip"

after_jobs () {
    ${FIND_BIN} ${PREFIX} -type f -name '*.dll' -o -name '*.exe' -o -name '*.bat' | ${XARGS_BIN} rm
    ${CP_BIN} ${PREFIX}/bin/sbt-launch.jar ${PREFIX}/lib/
}

createLaunchScript () {
  ${PRINTF_BIN} "#!/bin/sh

SBT_OPTS=\"-Xms512M -Xmx1536M -Xss1M -XX:+CMSClassUnloadingEnabled\"
${PREFIX}/bin/java \$SBT_OPTS -jar ${PREFIX}/lib/sbt-launch.jar \"\$\@\"
" > ${PREFIX}/bin/sbt
  ${CHMOD_BIN} +x ${PREFIX}/bin/sbt
}
