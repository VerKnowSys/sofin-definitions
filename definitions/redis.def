DEF_DISABLE_ON="Linux"
DEF_STANDALONE=YES
DEF_FULL_NAME="Redis is in-memory data structure store, used as database, cache and message broker."
DEF_NAME="redis"
DEF_VERSION="4.0.9"
DEF_SHA="8aa33d13c3ff5c4d4d2cc52932340893132c8aec"
DEF_ORIGIN="http://${DEF_NAME}.io"
DEF_SOURCE_PATH="${MAIN_SOURCE_REPOSITORY}${DEF_NAME}-${DEF_VERSION}.tar.gz"
DEF_REQUIREMENTS="make libedit lua51"
DEF_CONFIGURE_METHOD="ignore"
DEF_MAKE_METHOD="env MALLOC=jemalloc CC=cc CXX=c++ PREFIX=${PREFIX} make -s"
DEF_INSTALL_METHOD="env MALLOC=jemalloc CC=cc CXX=c++ PREFIX=${PREFIX} make -s install"
DEF_CONFLICTS_WITH="Redis"
DEF_USE_SAFE_STACK=YES
DEF_NO_SSP_BUFFER_OVERRIDE=YES
DEF_NO_FORTIFY_SOURCE=YES
DEF_NO_TRAP_INT_OVERFLOW=YES
DEF_EXPORTS="${DEF_NAME}-cli ${DEF_NAME}-server ${DEF_NAME}-benchmark ${DEF_NAME}-check-dump ${DEF_NAME}-check-aof ${DEF_NAME}-server ${DEF_NAME}-sentinel"
if [ "${SYSTEM_NAME}" = "Darwin" ]; then
    # under Darwin "leaks" is used .... so this crap is calling sudo N times one by one,
    # causing flood of "ask for root password" prompts... I have no further comments...
    DEF_TEST_METHOD="false"
fi
DEF_STANDALONE=YES
