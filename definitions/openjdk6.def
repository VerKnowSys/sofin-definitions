DEF_DISABLE_ON="Darwin Linux"
DEF_FULL_NAME="OpenJDK 1.6 64bit"
DEF_SHA="449847b8304acf10321f9c545bac43ad2a7ad143"
DEF_NAME="Openjdk6"
DEF_VERSION="1.6.0_32"
DEF_HTTP_PATH="${MAIN_BINARY_REPOSITORY}${DEF_NAME}-${DEF_VERSION}.tar.bz2"
DEF_CONFIGURE="binary"
DEF_AFTER_INSTALL_CALLBACK="${CP_BIN} -fR ${CACHE_DIR}cache/${DEF_NAME}-${DEF_VERSION}-${RUNTIME_SHA}/${DEF_NAME}-${DEF_VERSION}/ ${PREFIX}; ${TEST_BIN} ! -f /etc/ld-elf.so.conf && ${PRINTF_BIN} '/Software/${DEF_NAME}/lib' > /etc/ld-elf.so.conf && ${SERVICE_BIN} ldconfig restart ; perform_symlink_update"
DEF_EXPORTS="jconsole jdb jhat appletviewer jinfo jmap jar jps jarsigner jrunscript policytool java jstack registervm classpath javac jstat rmic javadoc jstatd rmid javah keytool rmiregistry javap javavm jcmd"
DEF_CONFLICTS_WITH="Openjdk7"

perform_symlink_update () {
  jdk="openjdk6"
  for i in appletviewer jar jarsigner java javac javadoc javah javap jconsole jdb jhat jinfo jmap jps jrunscript jsadebugd jstack jstat jstatd keytool manvm orbd policytool registervm rmic rmid rmiregistry servertool unregistervm; do
    ${RM_BIN} -f "${PREFIX}/bin/${i}"
    ${LN_BIN} -s "${PREFIX}/${jdk}/bin/${i}" "${PREFIX}/bin/${i}"
  done
  for j in jcmd checkvms manvm; do
    ${RM_BIN} -f "${PREFIX}/bin/${j}"
    ${LN_BIN} -s "${PREFIX}/${jdk}/bin/javavm" "${PREFIX}/bin/${j}"
  done
}
