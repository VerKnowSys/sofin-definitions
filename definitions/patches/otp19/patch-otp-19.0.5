diff --git OTP_VERSION OTP_VERSION
index fe09f0b..02f94dc 100644
--- OTP_VERSION
+++ OTP_VERSION
@@ -1 +1 @@
-19.0.4
+19.0.5
diff --git lib/kernel/doc/src/notes.xml lib/kernel/doc/src/notes.xml
index 0e3914b..3d35f6f 100644
--- lib/kernel/doc/src/notes.xml
+++ lib/kernel/doc/src/notes.xml
@@ -31,6 +31,23 @@
   </header>
   <p>This document describes the changes made to the Kernel application.</p>
 
+<section><title>Kernel 5.0.2</title>
+
+    <section><title>Fixed Bugs and Malfunctions</title>
+      <list>
+        <item>
+          <p>
+	    When calling os:cmd from a process that has set trap_exit
+	    to true an 'EXIT' message would be left in the message
+	    queue. This bug was introduced in kernel vsn 5.0.1.</p>
+          <p>
+	    Own Id: OTP-13813</p>
+        </item>
+      </list>
+    </section>
+
+</section>
+
 <section><title>Kernel 5.0.1</title>
 
     <section><title>Fixed Bugs and Malfunctions</title>
diff --git lib/kernel/src/os.erl lib/kernel/src/os.erl
index 81b70a7..05bbf10 100644
--- lib/kernel/src/os.erl
+++ lib/kernel/src/os.erl
@@ -279,15 +279,11 @@ get_data(Port, MonRef, Eot, Sofar) ->
                 Last ->
                     Port ! {self(), close},
                     flush_until_closed(Port),
+                    flush_exit(Port),
                     iolist_to_binary([Sofar, Last])
             end;
         {'DOWN', MonRef, _, _ , _} ->
-	    receive
-		{'EXIT',  Port,  _} ->
-		    ok
-	    after 1 ->				% force context switch
-		    ok
-	    end,
+	    flush_exit(Port),
 	    iolist_to_binary(Sofar)
     end.
 
@@ -307,3 +303,11 @@ flush_until_closed(Port) ->
         {Port, closed} ->
             true
     end.
+
+flush_exit(Port) ->
+    receive
+        {'EXIT',  Port,  _} ->
+            ok
+    after 1 ->				% force context switch
+            ok
+    end.
diff --git lib/kernel/test/os_SUITE.erl lib/kernel/test/os_SUITE.erl
index 8f3e511..19ab371 100644
--- lib/kernel/test/os_SUITE.erl
+++ lib/kernel/test/os_SUITE.erl
@@ -25,7 +25,7 @@
 -export([space_in_cwd/1, quoting/1, cmd_unicode/1, space_in_name/1, bad_command/1,
 	 find_executable/1, unix_comment_in_command/1, deep_list_command/1,
          large_output_command/1, background_command/0, background_command/1,
-         perf_counter_api/1]).
+         message_leak/1, perf_counter_api/1]).
 
 -include_lib("common_test/include/ct.hrl").
 
@@ -36,7 +36,8 @@ suite() ->
 all() ->
     [space_in_cwd, quoting, cmd_unicode, space_in_name, bad_command,
      find_executable, unix_comment_in_command, deep_list_command,
-     large_output_command, background_command, perf_counter_api].
+     large_output_command, background_command, message_leak,
+     perf_counter_api].
 
 groups() ->
     [].
@@ -284,6 +285,23 @@ background_command(_Config) ->
     %% longer then the 5 second timeout
     os:cmd("sleep 10&").
 
+%% Test that message does not leak to the calling process
+message_leak(_Config) ->
+    process_flag(trap_exit, true),
+
+    os:cmd("echo hello"),
+    [] = receive_all(),
+
+    case os:type() of
+        {unix, _} ->
+            os:cmd("while true; do echo hello; done&"),
+            [] = receive_all();
+        _ ->
+            ok % Cannot background on non-unix
+    end,
+
+    process_flag(trap_exit, false).
+
 %% Test that the os:perf_counter api works as expected
 perf_counter_api(_Config) ->
 
diff --git lib/kernel/vsn.mk lib/kernel/vsn.mk
index e88e4f91..cdd200a 100644
--- lib/kernel/vsn.mk
+++ lib/kernel/vsn.mk
@@ -1 +1 @@
-KERNEL_VSN = 5.0.1
+KERNEL_VSN = 5.0.2
diff --git otp_versions.table otp_versions.table
index 53dc60f..277c22b 100644
--- otp_versions.table
+++ otp_versions.table
@@ -1,3 +1,4 @@
+OTP-19.0.5 : kernel-5.0.2 # asn1-4.0.3 common_test-1.12.2 compiler-7.0.1 cosEvent-2.2.1 cosEventDomain-1.2.1 cosFileTransfer-1.2.1 cosNotification-1.2.2 cosProperty-1.2.1 cosTime-1.2.2 cosTransactions-1.3.2 crypto-3.7 debugger-4.2 dialyzer-3.0.1 diameter-1.12 edoc-0.7.19 eldap-1.2.2 erl_docgen-0.5 erl_interface-3.9 erts-8.0.3 et-1.6 eunit-2.3 gs-1.6.1 hipe-3.15.1 ic-4.4.1 inets-6.3.2 jinterface-1.7 megaco-3.18.1 mnesia-4.14 observer-2.2.1 odbc-2.11.2 orber-3.8.2 os_mon-2.4.1 otp_mibs-1.1.1 parsetools-2.1.2 percept-0.9 public_key-1.2 reltool-0.7.1 runtime_tools-1.10 sasl-3.0 snmp-5.2.3 ssh-4.3.1 ssl-8.0.1 stdlib-3.0.1 syntax_tools-2.0 tools-2.8.5 typer-0.9.11 wx-1.7 xmerl-1.3.11 :
 OTP-19.0.4 : erts-8.0.3 # asn1-4.0.3 common_test-1.12.2 compiler-7.0.1 cosEvent-2.2.1 cosEventDomain-1.2.1 cosFileTransfer-1.2.1 cosNotification-1.2.2 cosProperty-1.2.1 cosTime-1.2.2 cosTransactions-1.3.2 crypto-3.7 debugger-4.2 dialyzer-3.0.1 diameter-1.12 edoc-0.7.19 eldap-1.2.2 erl_docgen-0.5 erl_interface-3.9 et-1.6 eunit-2.3 gs-1.6.1 hipe-3.15.1 ic-4.4.1 inets-6.3.2 jinterface-1.7 kernel-5.0.1 megaco-3.18.1 mnesia-4.14 observer-2.2.1 odbc-2.11.2 orber-3.8.2 os_mon-2.4.1 otp_mibs-1.1.1 parsetools-2.1.2 percept-0.9 public_key-1.2 reltool-0.7.1 runtime_tools-1.10 sasl-3.0 snmp-5.2.3 ssh-4.3.1 ssl-8.0.1 stdlib-3.0.1 syntax_tools-2.0 tools-2.8.5 typer-0.9.11 wx-1.7 xmerl-1.3.11 :
 OTP-19.0.3 : inets-6.3.2 kernel-5.0.1 ssl-8.0.1 # asn1-4.0.3 common_test-1.12.2 compiler-7.0.1 cosEvent-2.2.1 cosEventDomain-1.2.1 cosFileTransfer-1.2.1 cosNotification-1.2.2 cosProperty-1.2.1 cosTime-1.2.2 cosTransactions-1.3.2 crypto-3.7 debugger-4.2 dialyzer-3.0.1 diameter-1.12 edoc-0.7.19 eldap-1.2.2 erl_docgen-0.5 erl_interface-3.9 erts-8.0.2 et-1.6 eunit-2.3 gs-1.6.1 hipe-3.15.1 ic-4.4.1 jinterface-1.7 megaco-3.18.1 mnesia-4.14 observer-2.2.1 odbc-2.11.2 orber-3.8.2 os_mon-2.4.1 otp_mibs-1.1.1 parsetools-2.1.2 percept-0.9 public_key-1.2 reltool-0.7.1 runtime_tools-1.10 sasl-3.0 snmp-5.2.3 ssh-4.3.1 stdlib-3.0.1 syntax_tools-2.0 tools-2.8.5 typer-0.9.11 wx-1.7 xmerl-1.3.11 :
 OTP-19.0.2 : compiler-7.0.1 erts-8.0.2 stdlib-3.0.1 # asn1-4.0.3 common_test-1.12.2 cosEvent-2.2.1 cosEventDomain-1.2.1 cosFileTransfer-1.2.1 cosNotification-1.2.2 cosProperty-1.2.1 cosTime-1.2.2 cosTransactions-1.3.2 crypto-3.7 debugger-4.2 dialyzer-3.0.1 diameter-1.12 edoc-0.7.19 eldap-1.2.2 erl_docgen-0.5 erl_interface-3.9 et-1.6 eunit-2.3 gs-1.6.1 hipe-3.15.1 ic-4.4.1 inets-6.3.1 jinterface-1.7 kernel-5.0 megaco-3.18.1 mnesia-4.14 observer-2.2.1 odbc-2.11.2 orber-3.8.2 os_mon-2.4.1 otp_mibs-1.1.1 parsetools-2.1.2 percept-0.9 public_key-1.2 reltool-0.7.1 runtime_tools-1.10 sasl-3.0 snmp-5.2.3 ssh-4.3.1 ssl-8.0 syntax_tools-2.0 tools-2.8.5 typer-0.9.11 wx-1.7 xmerl-1.3.11 :
