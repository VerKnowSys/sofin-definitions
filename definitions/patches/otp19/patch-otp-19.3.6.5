diff --git OTP_VERSION OTP_VERSION
index 668cef15cf..d38dcab2b8 100644
--- OTP_VERSION
+++ OTP_VERSION
@@ -1 +1 @@
-19.3.6.4
+19.3.6.5
diff --git erts/doc/src/notes.xml erts/doc/src/notes.xml
index e1c8dbb501..2f2a527176 100644
--- erts/doc/src/notes.xml
+++ erts/doc/src/notes.xml
@@ -31,6 +31,32 @@
   </header>
   <p>This document describes the changes made to the ERTS application.</p>
 
+<section><title>Erts 8.3.5.4</title>
+
+    <section><title>Fixed Bugs and Malfunctions</title>
+      <list>
+        <item>
+	    <p>Fixed a bug in file closure on Unix; close(2) was
+	    retried on EINTR which could cause a different (recently
+	    opened) file to be closed as well.</p>
+          <p>
+	    Own Id: OTP-14775</p>
+        </item>
+        <item>
+          <p>
+	    A race-condition when tearing down a connection with
+	    active node monitors could cause the runtime system to
+	    crash.</p>
+          <p>
+	    This bug was introduced in ERTS version 8.0 (OTP 19.0).</p>
+          <p>
+	    Own Id: OTP-14781 Aux Id: OTP-13047 </p>
+        </item>
+      </list>
+    </section>
+
+</section>
+
 <section><title>Erts 8.3.5.3</title>
 
     <section><title>Fixed Bugs and Malfunctions</title>
diff --git erts/emulator/beam/dist.c erts/emulator/beam/dist.c
index 3611eeee02..5566055de0 100644
--- erts/emulator/beam/dist.c
+++ erts/emulator/beam/dist.c
@@ -383,22 +383,24 @@ static void doit_node_link_net_exits(ErtsLink *lnk, void *vnecp)
 	if (!rp)
 	    goto done;
 	erts_smp_proc_lock(rp, rp_locks);
-	rlnk = erts_remove_link(&ERTS_P_LINKS(rp), name);
-	if (rlnk != NULL) {
-	    ASSERT(is_atom(rlnk->pid) && (rlnk->type == LINK_NODE));
-	    erts_destroy_link(rlnk);
-	}
-	n = ERTS_LINK_REFC(lnk);
-	for (i = 0; i < n; ++i) {
-	    Eterm tup;
-	    Eterm *hp;
-	    ErtsMessage *msgp;
+        if (!ERTS_PROC_IS_EXITING(rp)) {
+            rlnk = erts_remove_link(&ERTS_P_LINKS(rp), name);
+            if (rlnk != NULL) {
+                ASSERT(is_atom(rlnk->pid) && (rlnk->type == LINK_NODE));
+                erts_destroy_link(rlnk);
+            }
+            n = ERTS_LINK_REFC(lnk);
+            for (i = 0; i < n; ++i) {
+                Eterm tup;
+                Eterm *hp;
+                ErtsMessage *msgp;
 
-	    msgp = erts_alloc_message_heap(rp, &rp_locks,
-					   3, &hp, &ohp);
-	    tup = TUPLE2(hp, am_nodedown, name);
-	    erts_queue_message(rp, rp_locks, msgp, tup, am_system);
-	}
+                msgp = erts_alloc_message_heap(rp, &rp_locks,
+                                               3, &hp, &ohp);
+                tup = TUPLE2(hp, am_nodedown, name);
+                erts_queue_message(rp, rp_locks, msgp, tup, am_system);
+            }
+        }
 	erts_smp_proc_unlock(rp, rp_locks);
     }
  done:
diff --git erts/emulator/drivers/unix/unix_efile.c erts/emulator/drivers/unix/unix_efile.c
index 0acc2432a7..82266ee736 100644
--- erts/emulator/drivers/unix/unix_efile.c
+++ erts/emulator/drivers/unix/unix_efile.c
@@ -466,7 +466,7 @@ efile_may_openfile(Efile_error* errInfo, char *name) {
 void
 efile_closefile(int fd)
 {
-    while((close(fd) < 0) && (errno == EINTR));
+    close(fd);
 }
 
 int
diff --git erts/vsn.mk erts/vsn.mk
index e8fe09ad36..4484b0d54a 100644
--- erts/vsn.mk
+++ erts/vsn.mk
@@ -18,7 +18,7 @@
 # %CopyrightEnd%
 # 
 
-VSN = 8.3.5.3
+VSN = 8.3.5.4
 
 # Port number 4365 in 4.2
 # Port number 4366 in 4.3
diff --git lib/mnesia/doc/src/notes.xml lib/mnesia/doc/src/notes.xml
index 9f59759cb6..a20640e1be 100644
--- lib/mnesia/doc/src/notes.xml
+++ lib/mnesia/doc/src/notes.xml
@@ -39,7 +39,32 @@
     thus constitutes one section in this document. The title of each
     section is the version number of Mnesia.</p>
 
-  <section><title>Mnesia 4.14.3</title>
+  <section><title>Mnesia 4.14.3.1</title>
+
+    <section><title>Fixed Bugs and Malfunctions</title>
+      <list>
+        <item>
+          <p>
+	    Fix backup error handling, the real failure reason was
+	    not returned.</p>
+          <p>
+	    Own Id: OTP-14776 Aux Id: ERIERL-103 </p>
+        </item>
+        <item>
+          <p>
+	    Removed a quadratic behavior in startup. This change
+	    implies that backend plugins (if used) must be set when
+	    the schema is created or via configuration parameters
+	    before mnesia is started.</p>
+          <p>
+	    Own Id: OTP-14829 Aux Id: ERIERL-84 </p>
+        </item>
+      </list>
+    </section>
+
+</section>
+
+<section><title>Mnesia 4.14.3</title>
 
     <section><title>Fixed Bugs and Malfunctions</title>
       <list>
diff --git lib/mnesia/src/mnesia_log.erl lib/mnesia/src/mnesia_log.erl
index 9536effd42..685d512acf 100644
--- lib/mnesia/src/mnesia_log.erl
+++ lib/mnesia/src/mnesia_log.erl
@@ -752,8 +752,8 @@ abort_write(B, What, Args, Reason) ->
     Opaque = B#backup_args.opaque,
     dbg_out("Failed to perform backup. M=~p:F=~p:A=~p -> ~p~n",
 	    [Mod, What, Args, Reason]),
-    try apply(Mod, abort_write, [Opaque]) of
-	{ok, _Res} -> throw({error, Reason})
+    try {ok, _Res} = apply(Mod, abort_write, [Opaque]) of
+        _ -> throw({error, Reason})
     catch _:Other ->
 	    error("Failed to abort backup. ~p:~p~p -> ~p~n",
 		  [Mod, abort_write, [Opaque], Other]),
diff --git lib/mnesia/src/mnesia_schema.erl lib/mnesia/src/mnesia_schema.erl
index 0e4017e4c3..bb5e38f7c1 100644
--- lib/mnesia/src/mnesia_schema.erl
+++ lib/mnesia/src/mnesia_schema.erl
@@ -952,19 +952,9 @@ get_index_plugins() ->
     get_schema_user_property(mnesia_index_plugins).
 
 get_schema_user_property(Key) ->
-    Tab = schema,
-    %% Must work reliably both within transactions and outside of transactions
-    Res = case get(mnesia_activity_state) of
-	      undefined ->
-		  dirty_read_table_property(Tab, Key);
-	      _ ->
-		  do_read_table_property(Tab, Key)
-	  end,
-    case Res of
-	undefined ->
-	    [];
-	{_, Types} ->
-	    Types
+    case dirty_read_table_property(schema, Key) of
+	undefined ->  [];
+	{_, Types} -> Types
     end.
 
 get_ext_types_disc() ->
diff --git lib/mnesia/vsn.mk lib/mnesia/vsn.mk
index e272a469bb..b1e8568490 100644
--- lib/mnesia/vsn.mk
+++ lib/mnesia/vsn.mk
@@ -1 +1 @@
-MNESIA_VSN = 4.14.3
+MNESIA_VSN = 4.14.3.1
diff --git lib/ssh/doc/src/notes.xml lib/ssh/doc/src/notes.xml
index c8c6e61cc8..becceb0603 100644
--- lib/ssh/doc/src/notes.xml
+++ lib/ssh/doc/src/notes.xml
@@ -30,6 +30,24 @@
     <file>notes.xml</file>
   </header>
 
+<section><title>Ssh 4.4.2.1</title>
+
+    <section><title>Fixed Bugs and Malfunctions</title>
+      <list>
+        <item>
+          <p>
+	    Trailing white space was removed at end of the
+	    hello-string. This caused interoperability problems with
+	    some other ssh-implementations (e.g OpenSSH 7.3p1 on
+	    Solaris 11)</p>
+          <p>
+	    Own Id: OTP-14763 Aux Id: ERIERL-74 </p>
+        </item>
+      </list>
+    </section>
+
+</section>
+
 <section><title>Ssh 4.4.2</title>
 
     <section><title>Fixed Bugs and Malfunctions</title>
diff --git lib/ssh/src/ssh_transport.erl lib/ssh/src/ssh_transport.erl
index 9bebaf2d9b..61a1a57063 100644
--- lib/ssh/src/ssh_transport.erl
+++ lib/ssh/src/ssh_transport.erl
@@ -1827,12 +1827,6 @@ same(Algs) ->  [{client2server,Algs}, {server2client,Algs}].
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
 trim_tail(Str) ->
-    lists:reverse(trim_head(lists:reverse(Str))).
-
-trim_head([$\s|Cs]) -> trim_head(Cs);
-trim_head([$\t|Cs]) -> trim_head(Cs);
-trim_head([$\n|Cs]) -> trim_head(Cs);
-trim_head([$\r|Cs]) -> trim_head(Cs);
-trim_head(Cs) -> Cs.
-
-
+    lists:takewhile(fun(C) -> 
+			    C=/=$\r andalso C=/=$\n
+		    end, Str).
diff --git lib/ssh/test/ssh_options_SUITE.erl lib/ssh/test/ssh_options_SUITE.erl
index eedb2b389d..aefd31834a 100644
--- lib/ssh/test/ssh_options_SUITE.erl
+++ lib/ssh/test/ssh_options_SUITE.erl
@@ -36,7 +36,9 @@
 	 id_string_no_opt_client/1, 
 	 id_string_no_opt_server/1, 
 	 id_string_own_string_client/1, 
+	 id_string_own_string_client_trail_space/1, 
 	 id_string_own_string_server/1, 
+	 id_string_own_string_server_trail_space/1, 
 	 id_string_random_client/1, 
 	 id_string_random_server/1, 
 	 max_sessions_sftp_start_channel_parallel/1, 
@@ -116,9 +118,11 @@ all() ->
      hostkey_fingerprint_check_list,
      id_string_no_opt_client,
      id_string_own_string_client,
+     id_string_own_string_client_trail_space,
      id_string_random_client,
      id_string_no_opt_server,
      id_string_own_string_server,
+     id_string_own_string_server_trail_space,
      id_string_random_server,
      {group, hardening_tests}
     ].
@@ -1033,6 +1037,19 @@ id_string_own_string_client(Config) ->
 	    {fail,timeout}
     end.
 
+%%--------------------------------------------------------------------
+id_string_own_string_client_trail_space(Config) ->
+    {Server, _Host, Port} = fake_daemon(Config),
+    {error,_} = ssh:connect("localhost", Port, [{id_string,"Pelle "}], 1000),
+    receive
+	{id,Server,"SSH-2.0-Pelle \r\n"} ->
+	    ok;
+	{id,Server,Other} ->
+	    ct:fail("Unexpected id: ~s.",[Other])
+    after 5000 ->
+	    {fail,timeout}
+    end.
+
 %%--------------------------------------------------------------------
 id_string_random_client(Config) ->
     {Server, _Host, Port} = fake_daemon(Config),
@@ -1061,6 +1078,12 @@ id_string_own_string_server(Config) ->
     {ok,S1}=gen_tcp:connect(Host,Port,[{active,false},{packet,line}]),
     {ok,"SSH-2.0-Olle\r\n"} = gen_tcp:recv(S1, 0, 2000).
 
+%%--------------------------------------------------------------------
+id_string_own_string_server_trail_space(Config) ->
+    {_Server, Host, Port} = ssh_test_lib:std_daemon(Config, [{id_string,"Olle "}]),
+    {ok,S1}=gen_tcp:connect(Host,Port,[{active,false},{packet,line}]),
+    {ok,"SSH-2.0-Olle \r\n"} = gen_tcp:recv(S1, 0, 2000).
+
 %%--------------------------------------------------------------------
 id_string_random_server(Config) ->
     {_Server, Host, Port} = ssh_test_lib:std_daemon(Config, [{id_string,random}]),
diff --git lib/ssh/vsn.mk lib/ssh/vsn.mk
index 48332d2e5a..a3cb2c5fe7 100644
--- lib/ssh/vsn.mk
+++ lib/ssh/vsn.mk
@@ -1,5 +1,5 @@
 #-*-makefile-*-   ; force emacs to enter makefile-mode
 
-SSH_VSN = 4.4.2
+SSH_VSN = 4.4.2.1
 
 APP_VSN    = "ssh-$(SSH_VSN)"
diff --git otp_versions.table otp_versions.table
index fffbaa2468..dc1d80c2b9 100644
--- otp_versions.table
+++ otp_versions.table
@@ -1,3 +1,4 @@
+OTP-19.3.6.5 : erts-8.3.5.4 mnesia-4.14.3.1 ssh-4.4.2.1 # asn1-4.0.4 common_test-1.14 compiler-7.0.4.1 cosEvent-2.2.1 cosEventDomain-1.2.1 cosFileTransfer-1.2.1 cosNotification-1.2.2 cosProperty-1.2.1 cosTime-1.2.2 cosTransactions-1.3.2 crypto-3.7.4 debugger-4.2.1 dialyzer-3.1.1 diameter-1.12.2 edoc-0.8.1 eldap-1.2.2 erl_docgen-0.6.1 erl_interface-3.9.3 et-1.6 eunit-2.3.2 gs-1.6.2 hipe-3.15.4 ic-4.4.2 inets-6.3.9 jinterface-1.7.1 kernel-5.2 megaco-3.18.1 observer-2.3.1 odbc-2.12 orber-3.8.2 os_mon-2.4.2 otp_mibs-1.1.1 parsetools-2.1.4 percept-0.9 public_key-1.4 reltool-0.7.3 runtime_tools-1.11.1 sasl-3.0.3 snmp-5.2.5 ssl-8.1.3.1 stdlib-3.3 syntax_tools-2.1.1 tools-2.9.1 typer-0.9.12 wx-1.8 xmerl-1.3.14 :
 OTP-19.3.6.4 : ssl-8.1.3.1 # asn1-4.0.4 common_test-1.14 compiler-7.0.4.1 cosEvent-2.2.1 cosEventDomain-1.2.1 cosFileTransfer-1.2.1 cosNotification-1.2.2 cosProperty-1.2.1 cosTime-1.2.2 cosTransactions-1.3.2 crypto-3.7.4 debugger-4.2.1 dialyzer-3.1.1 diameter-1.12.2 edoc-0.8.1 eldap-1.2.2 erl_docgen-0.6.1 erl_interface-3.9.3 erts-8.3.5.3 et-1.6 eunit-2.3.2 gs-1.6.2 hipe-3.15.4 ic-4.4.2 inets-6.3.9 jinterface-1.7.1 kernel-5.2 megaco-3.18.1 mnesia-4.14.3 observer-2.3.1 odbc-2.12 orber-3.8.2 os_mon-2.4.2 otp_mibs-1.1.1 parsetools-2.1.4 percept-0.9 public_key-1.4 reltool-0.7.3 runtime_tools-1.11.1 sasl-3.0.3 snmp-5.2.5 ssh-4.4.2 stdlib-3.3 syntax_tools-2.1.1 tools-2.9.1 typer-0.9.12 wx-1.8 xmerl-1.3.14 :
 OTP-19.3.6.3 : compiler-7.0.4.1 erts-8.3.5.3 # asn1-4.0.4 common_test-1.14 cosEvent-2.2.1 cosEventDomain-1.2.1 cosFileTransfer-1.2.1 cosNotification-1.2.2 cosProperty-1.2.1 cosTime-1.2.2 cosTransactions-1.3.2 crypto-3.7.4 debugger-4.2.1 dialyzer-3.1.1 diameter-1.12.2 edoc-0.8.1 eldap-1.2.2 erl_docgen-0.6.1 erl_interface-3.9.3 et-1.6 eunit-2.3.2 gs-1.6.2 hipe-3.15.4 ic-4.4.2 inets-6.3.9 jinterface-1.7.1 kernel-5.2 megaco-3.18.1 mnesia-4.14.3 observer-2.3.1 odbc-2.12 orber-3.8.2 os_mon-2.4.2 otp_mibs-1.1.1 parsetools-2.1.4 percept-0.9 public_key-1.4 reltool-0.7.3 runtime_tools-1.11.1 sasl-3.0.3 snmp-5.2.5 ssh-4.4.2 ssl-8.1.3 stdlib-3.3 syntax_tools-2.1.1 tools-2.9.1 typer-0.9.12 wx-1.8 xmerl-1.3.14 :
 OTP-19.3.6.2 : erts-8.3.5.2 # asn1-4.0.4 common_test-1.14 compiler-7.0.4 cosEvent-2.2.1 cosEventDomain-1.2.1 cosFileTransfer-1.2.1 cosNotification-1.2.2 cosProperty-1.2.1 cosTime-1.2.2 cosTransactions-1.3.2 crypto-3.7.4 debugger-4.2.1 dialyzer-3.1.1 diameter-1.12.2 edoc-0.8.1 eldap-1.2.2 erl_docgen-0.6.1 erl_interface-3.9.3 et-1.6 eunit-2.3.2 gs-1.6.2 hipe-3.15.4 ic-4.4.2 inets-6.3.9 jinterface-1.7.1 kernel-5.2 megaco-3.18.1 mnesia-4.14.3 observer-2.3.1 odbc-2.12 orber-3.8.2 os_mon-2.4.2 otp_mibs-1.1.1 parsetools-2.1.4 percept-0.9 public_key-1.4 reltool-0.7.3 runtime_tools-1.11.1 sasl-3.0.3 snmp-5.2.5 ssh-4.4.2 ssl-8.1.3 stdlib-3.3 syntax_tools-2.1.1 tools-2.9.1 typer-0.9.12 wx-1.8 xmerl-1.3.14 :
