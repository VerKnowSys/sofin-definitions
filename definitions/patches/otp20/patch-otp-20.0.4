diff --git OTP_VERSION OTP_VERSION
index a9ac8dacb0..0ffaf17a11 100644
--- OTP_VERSION
+++ OTP_VERSION
@@ -1 +1 @@
-20.0.3
+20.0.4
diff --git erts/doc/src/notes.xml erts/doc/src/notes.xml
index 008d43b51a..367d6d4d0a 100644
--- erts/doc/src/notes.xml
+++ erts/doc/src/notes.xml
@@ -31,6 +31,38 @@
   </header>
   <p>This document describes the changes made to the ERTS application.</p>
 
+<section><title>Erts 9.0.4</title>
+
+    <section><title>Fixed Bugs and Malfunctions</title>
+      <list>
+        <item>
+          <p>
+	    A timer internal bit-field used for storing scheduler id
+	    was too small. As a result, VM internal timer data
+	    structures could become inconsistent when using 1024
+	    schedulers on the system. Note that systems with less
+	    than 1024 schedulers are not effected by this bug.</p>
+          <p>
+	    This bug was introduced in ERTS version 7.0 (OTP 18.0).</p>
+          <p>
+	    Own Id: OTP-14548 Aux Id: OTP-11997, ERL-468 </p>
+        </item>
+        <item>
+          <p>
+	    Automatic cleanup of a BIF timer, when the owner process
+	    terminated, could race with the timeout of the timer.
+	    This could cause the VM internal data structures to
+	    become inconsistent which very likely caused a VM crash.</p>
+          <p>
+	    This bug was introduced in ERTS version 9.0 (OTP 20.0).</p>
+          <p>
+	    Own Id: OTP-14554 Aux Id: OTP-14356, ERL-468 </p>
+        </item>
+      </list>
+    </section>
+
+</section>
+
 <section><title>Erts 9.0.3</title>
 
     <section><title>Fixed Bugs and Malfunctions</title>
diff --git erts/emulator/beam/erl_hl_timer.c erts/emulator/beam/erl_hl_timer.c
index 99995be464..6e5cc7b801 100644
--- erts/emulator/beam/erl_hl_timer.c
+++ erts/emulator/beam/erl_hl_timer.c
@@ -103,14 +103,14 @@ typedef enum {
 #  define ERTS_HLT_SMP_MEMBAR_LoadLoad_LoadStore
 #endif
 
-/* Bit 0 to 9 contains scheduler id (see mask below) */
-#define ERTS_TMR_ROFLG_HLT		(((Uint32) 1) << 10)
-#define ERTS_TMR_ROFLG_BIF_TMR		(((Uint32) 1) << 11)
-#define ERTS_TMR_ROFLG_PRE_ALC		(((Uint32) 1) << 12)
-#define ERTS_TMR_ROFLG_REG_NAME		(((Uint32) 1) << 13)
-#define ERTS_TMR_ROFLG_PROC		(((Uint32) 1) << 14)
-#define ERTS_TMR_ROFLG_PORT		(((Uint32) 1) << 15)
-#define ERTS_TMR_ROFLG_CALLBACK		(((Uint32) 1) << 16)
+/* Bit 0 to 10 contains scheduler id (see mask below) */
+#define ERTS_TMR_ROFLG_HLT		(((Uint32) 1) << 11)
+#define ERTS_TMR_ROFLG_BIF_TMR		(((Uint32) 1) << 12)
+#define ERTS_TMR_ROFLG_PRE_ALC		(((Uint32) 1) << 13)
+#define ERTS_TMR_ROFLG_REG_NAME		(((Uint32) 1) << 14)
+#define ERTS_TMR_ROFLG_PROC		(((Uint32) 1) << 15)
+#define ERTS_TMR_ROFLG_PORT		(((Uint32) 1) << 16)
+#define ERTS_TMR_ROFLG_CALLBACK		(((Uint32) 1) << 17)
 
 #define ERTS_TMR_ROFLG_SID_MASK	\
     (ERTS_TMR_ROFLG_HLT - (Uint32) 1)
@@ -1273,14 +1273,15 @@ bif_timer_timeout(ErtsHLTimerService *srv,
             ERTS_HLT_ASSERT(proc);
         }
         if (proc) {
+            int dec_refc = 0;
+            ErtsMessage *mp = erts_alloc_message(0, NULL);
+            mp->data.heap_frag = tmr->btm.bp;
+            tmr->btm.bp = NULL;
+            erts_queue_message(proc, 0, mp, tmr->btm.message,
+                               am_clock_service);
+            erts_smp_proc_lock(proc, ERTS_PROC_LOCK_BTM);
+            /* If the process is exiting do not disturb the cleanup... */
             if (!ERTS_PROC_IS_EXITING(proc)) {
-                int dec_refc = 0;
-                ErtsMessage *mp = erts_alloc_message(0, NULL);
-                mp->data.heap_frag = tmr->btm.bp;
-                tmr->btm.bp = NULL;
-                erts_queue_message(proc, 0, mp, tmr->btm.message,
-                                   am_clock_service);
-                erts_smp_proc_lock(proc, ERTS_PROC_LOCK_BTM);
 #ifdef ERTS_MAGIC_REF_BIF_TIMERS
                 if (tmr->btm.proc_list.next) {
                     proc_btm_list_delete(&proc->bif_timers, tmr);
@@ -1293,10 +1294,10 @@ bif_timer_timeout(ErtsHLTimerService *srv,
                     dec_refc = 1;
                 }
 #endif
-                erts_smp_proc_unlock(proc, ERTS_PROC_LOCK_BTM);
-                if (dec_refc)
-                    timer_pre_dec_refc((ErtsTimer *) tmr);
             }
+            erts_smp_proc_unlock(proc, ERTS_PROC_LOCK_BTM);
+            if (dec_refc)
+                timer_pre_dec_refc((ErtsTimer *) tmr);
         }
         if (tmr->btm.bp)
             free_message_buffer(tmr->btm.bp);
diff --git erts/vsn.mk erts/vsn.mk
index f90870b7c8..8ed3993177 100644
--- erts/vsn.mk
+++ erts/vsn.mk
@@ -18,7 +18,7 @@
 # %CopyrightEnd%
 # 
 
-VSN = 9.0.3
+VSN = 9.0.4
 
 # Port number 4365 in 4.2
 # Port number 4366 in 4.3
diff --git lib/dialyzer/doc/src/notes.xml lib/dialyzer/doc/src/notes.xml
index 0d2cb6c4df..c26b7aab5e 100644
--- lib/dialyzer/doc/src/notes.xml
+++ lib/dialyzer/doc/src/notes.xml
@@ -32,6 +32,21 @@
   <p>This document describes the changes made to the Dialyzer
     application.</p>
 
+<section><title>Dialyzer 3.2.1</title>
+
+    <section><title>Fixed Bugs and Malfunctions</title>
+      <list>
+        <item>
+	    <p> Fix a bug where merging PLT:s could lose info. The
+	    bug was introduced in Erlang/OTP 20.0. </p>
+          <p>
+	    Own Id: OTP-14558 Aux Id: ERIERL-53 </p>
+        </item>
+      </list>
+    </section>
+
+</section>
+
 <section><title>Dialyzer 3.2</title>
 
     <section><title>Fixed Bugs and Malfunctions</title>
diff --git lib/dialyzer/src/dialyzer_plt.erl lib/dialyzer/src/dialyzer_plt.erl
index 47994fc35b..0fd99bbc04 100644
--- lib/dialyzer/src/dialyzer_plt.erl
+++ lib/dialyzer/src/dialyzer_plt.erl
@@ -772,6 +772,7 @@ tab_is_disj(K1, T1, T2) ->
   end.
 
 merge_tables(T1, T2) ->
+  ets:safe_fixtable(T1, true),
   tab_merge(ets:first(T1), T1, T2).
 
 tab_merge('$end_of_table', T1, T2) ->
diff --git lib/dialyzer/vsn.mk lib/dialyzer/vsn.mk
index 4a1a7c25a0..866a82ee3e 100644
--- lib/dialyzer/vsn.mk
+++ lib/dialyzer/vsn.mk
@@ -1 +1 @@
-DIALYZER_VSN = 3.2
+DIALYZER_VSN = 3.2.1
diff --git otp_versions.table otp_versions.table
index 266bca1698..61741cd43a 100644
--- otp_versions.table
+++ otp_versions.table
@@ -1,3 +1,4 @@
+OTP-20.0.4 : dialyzer-3.2.1 erts-9.0.4 # asn1-5.0.2 common_test-1.15.1 compiler-7.1.1 cosEvent-2.2.1 cosEventDomain-1.2.1 cosFileTransfer-1.2.1 cosNotification-1.2.2 cosProperty-1.2.2 cosTime-1.2.2 cosTransactions-1.3.2 crypto-4.0 debugger-4.2.2 diameter-2.0 edoc-0.9 eldap-1.2.2 erl_docgen-0.7 erl_interface-3.10 et-1.6 eunit-2.3.3 hipe-3.16 ic-4.4.2 inets-6.4 jinterface-1.8 kernel-5.3.1 megaco-3.18.2 mnesia-4.15 observer-2.4 odbc-2.12 orber-3.8.3 os_mon-2.4.2 otp_mibs-1.1.1 parsetools-2.1.5 public_key-1.4.1 reltool-0.7.4 runtime_tools-1.12.1 sasl-3.0.4 snmp-5.2.6 ssh-4.5.1 ssl-8.2 stdlib-3.4.1 syntax_tools-2.1.2 tools-2.10.1 wx-1.8.1 xmerl-1.3.15 :
 OTP-20.0.3 : asn1-5.0.2 compiler-7.1.1 erts-9.0.3 ssh-4.5.1 # common_test-1.15.1 cosEvent-2.2.1 cosEventDomain-1.2.1 cosFileTransfer-1.2.1 cosNotification-1.2.2 cosProperty-1.2.2 cosTime-1.2.2 cosTransactions-1.3.2 crypto-4.0 debugger-4.2.2 dialyzer-3.2 diameter-2.0 edoc-0.9 eldap-1.2.2 erl_docgen-0.7 erl_interface-3.10 et-1.6 eunit-2.3.3 hipe-3.16 ic-4.4.2 inets-6.4 jinterface-1.8 kernel-5.3.1 megaco-3.18.2 mnesia-4.15 observer-2.4 odbc-2.12 orber-3.8.3 os_mon-2.4.2 otp_mibs-1.1.1 parsetools-2.1.5 public_key-1.4.1 reltool-0.7.4 runtime_tools-1.12.1 sasl-3.0.4 snmp-5.2.6 ssl-8.2 stdlib-3.4.1 syntax_tools-2.1.2 tools-2.10.1 wx-1.8.1 xmerl-1.3.15 :
 OTP-20.0.2 : asn1-5.0.1 erts-9.0.2 kernel-5.3.1 # common_test-1.15.1 compiler-7.1 cosEvent-2.2.1 cosEventDomain-1.2.1 cosFileTransfer-1.2.1 cosNotification-1.2.2 cosProperty-1.2.2 cosTime-1.2.2 cosTransactions-1.3.2 crypto-4.0 debugger-4.2.2 dialyzer-3.2 diameter-2.0 edoc-0.9 eldap-1.2.2 erl_docgen-0.7 erl_interface-3.10 et-1.6 eunit-2.3.3 hipe-3.16 ic-4.4.2 inets-6.4 jinterface-1.8 megaco-3.18.2 mnesia-4.15 observer-2.4 odbc-2.12 orber-3.8.3 os_mon-2.4.2 otp_mibs-1.1.1 parsetools-2.1.5 public_key-1.4.1 reltool-0.7.4 runtime_tools-1.12.1 sasl-3.0.4 snmp-5.2.6 ssh-4.5 ssl-8.2 stdlib-3.4.1 syntax_tools-2.1.2 tools-2.10.1 wx-1.8.1 xmerl-1.3.15 :
 OTP-20.0.1 : common_test-1.15.1 erts-9.0.1 runtime_tools-1.12.1 stdlib-3.4.1 tools-2.10.1 # asn1-5.0 compiler-7.1 cosEvent-2.2.1 cosEventDomain-1.2.1 cosFileTransfer-1.2.1 cosNotification-1.2.2 cosProperty-1.2.2 cosTime-1.2.2 cosTransactions-1.3.2 crypto-4.0 debugger-4.2.2 dialyzer-3.2 diameter-2.0 edoc-0.9 eldap-1.2.2 erl_docgen-0.7 erl_interface-3.10 et-1.6 eunit-2.3.3 hipe-3.16 ic-4.4.2 inets-6.4 jinterface-1.8 kernel-5.3 megaco-3.18.2 mnesia-4.15 observer-2.4 odbc-2.12 orber-3.8.3 os_mon-2.4.2 otp_mibs-1.1.1 parsetools-2.1.5 public_key-1.4.1 reltool-0.7.4 sasl-3.0.4 snmp-5.2.6 ssh-4.5 ssl-8.2 syntax_tools-2.1.2 wx-1.8.1 xmerl-1.3.15 :
