DEF_FULL_NAME="WeeChat, the extensible chat client."
DEF_STANDALONE=YES
DEF_NAME="weechat"
DEF_SHA="a4e0e8b82f29d2c81a4186e674983ede6b7c0afd"
DEF_VERSION="2.3"
DEF_SOURCE_PATH="${MAIN_SOURCE_REPOSITORY}${DEF_NAME}-${DEF_VERSION}.tar.xz"
DEF_ORIGIN="https://github.com/weechat/weechat/releases"
DEF_CONFIGURE_METHOD="cmake"
DEF_EXPORTS="weechat weechat-curses"
DEF_USE_SAFE_STACK=YES
unset DEF_USE_LTO

case "${SYSTEM_NAME}" in
    Darwin)
        DEF_REQUIREMENTS="libedit lua51 lzo libxml2 pcre libffi perl-static openssl perl python27 pth npth libgpg-error libgcrypt gmp nettle libtasn1 p11-kit texinfo aspell libidn gnutls libidn2 jemalloc nghttp2 libunistring libssh2 libuuid curl ruby24"
        DEF_CONFIGURE_ARGS="-DENABLE_NCURSES=ON -DENABLE_GNUTLS=ON -DENABLE_PYTHON=ON -DENABLE_RUBY=ON -DENABLE_PERL=ON -DENABLE_LUA=ON -DENABLE_ASPELL=ON -DENABLE_PHP=OFF -DENABLE_PYTHON3=OFF -DENABLE_HEADLESS=OFF"
        ;;

    *)
        DEF_REQUIREMENTS="libedit libevent lzo libxml2 pcre libffi perl-static openssl perl python27 pth npth libgpg-error libgcrypt gmp nettle libtasn1 p11-kit texinfo libidn gnutls libidn2 jemalloc nghttp2 libunistring libssh2 libuuid curl ruby24"
        DEF_CONFIGURE_ARGS="-DENABLE_NCURSES=ON -DENABLE_GNUTLS=ON -DENABLE_PYTHON=ON -DENABLE_RUBY=ON -DENABLE_PERL=ON -DENABLE_LUA=OFF -DENABLE_ASPELL=OFF -DENABLE_PHP=OFF -DENABLE_PYTHON3=OFF -DENABLE_HEADLESS=OFF"
        ;;
esac
