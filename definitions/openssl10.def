inherit libressl

DEF_FULL_NAME="OpenSSL Library"
DEF_NAME="openssl"
DEF_VERSION="1.0.2s"
DEF_SHA="cf43d57a21e4baf420b3628677ebf1723ed53bc1"
DEF_SOURCE_PATH="${MAIN_SOURCE_REPOSITORY}${DEF_NAME}-${DEF_VERSION}.tar.gz"
DEF_ORIGIN="https://www.openssl.org/source/${DEF_NAME}-${DEF_VERSION}.tar.gz"
DEF_CONFIGURE_METHOD="./config"
DEF_CONFIGURE_ARGS="shared -L${PREFIX}/lib -I${PREFIX}/include"
DEF_REQUIREMENTS="perl"
if [ "${SYSTEM_NAME}" = "Darwin" ]; then
    DEF_CONFIGURE_METHOD="./Configure"
    DEF_CONFIGURE_ARGS="--openssldir=${PREFIX}/etc/openssl darwin64-x86_64-cc enable-ec_nistp_64_gcc_128 shared zlib-dynamic"
    DEF_REQUIREMENTS=""
fi
DEF_NO_CCACHE=YES
DEF_EXPORTS="openssl"
DEF_MAKE_METHOD="make -s"
DEF_INSTALL_METHOD="make -s install"
unset DEF_USE_LTO
